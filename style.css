*{box-sizing:border-box}
body{font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans CJK TC", "Helvetica Neue", Arial; line-height:1.6; margin:0; color:#222}

/* Header 響應式設計 */
header{display:flex;justify-content:space-between;align-items:center;padding:12px 18px;background:#f4f6f8;border-bottom:1px solid #e6e9ee;flex-wrap:wrap}
header h1{margin:0;font-size:1.1rem;flex:1;min-width:200px}
.toolbar{display:flex;gap:10px;flex-wrap:wrap}
.toolbar a{text-decoration:none;color:#0366d6;white-space:nowrap}

/* 主要佈局 - 側邊選單 + 內容區 */
main{display:flex;min-height:calc(100vh - 60px)}

/* 側邊選單樣式 */
.sidebar{
  width:280px;
  background:#f8f9fa;
  border-right:1px solid #e6e9ee;
  flex-shrink:0;
  overflow-y:auto;
  max-height:calc(100vh - 60px);
  position:sticky;
  top:0;
}

.sidebar-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 20px;
  background:#e9ecef;
  border-bottom:1px solid #dee2e6;
}

.sidebar-header h3{
  margin:0;
  font-size:1rem;
  color:#495057;
}

/* 選單切換按鈕 (漢堡選單) */
.menu-toggle{
  display:none;
  flex-direction:column;
  background:none;
  border:none;
  cursor:pointer;
  padding:5px;
  width:30px;
  height:30px;
  justify-content:space-around;
}

.menu-toggle span{
  display:block;
  height:3px;
  width:100%;
  background:#495057;
  border-radius:1px;
  transition:all 0.3s ease;
}

.menu-toggle.active span:nth-child(1){transform:rotate(45deg) translate(6px, 6px)}
.menu-toggle.active span:nth-child(2){opacity:0}
.menu-toggle.active span:nth-child(3){transform:rotate(-45deg) translate(6px, -6px)}

/* 目錄樣式 */
.toc{padding:0 20px 20px}
.toc-list{list-style:none;margin:0;padding:0}
.toc-sublist{list-style:none;margin:0;padding:0 0 0 15px}
.toc-item{margin:0}

.toc-link{
  display:block;
  padding:8px 12px;
  text-decoration:none;
  color:#495057;
  border-radius:4px;
  transition:all 0.2s ease;
  font-size:0.9rem;
  line-height:1.4;
}

.toc-link:hover{
  background:#e9ecef;
  color:#0366d6;
}

.toc-level-2{font-weight:600}
.toc-level-3{font-weight:500;color:#6c757d}
.toc-level-4{font-weight:400;color:#868e96;font-size:0.85rem}

.no-headings{
  padding:20px;
  text-align:center;
  color:#6c757d;
  font-style:italic;
}

/* 內容區域 */
.content-wrapper{
  flex:1;
  min-width:0;
  overflow:hidden;
}

#content{
  padding:20px 30px;
  max-width:none;
  margin:0;
  line-height:1.7;
}

/* 側邊選單遮罩 (行動裝置用) */
.sidebar-overlay{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.5);
  z-index:998;
}

/* 表格響應式設計 */
#content table{width:100%;border-collapse:collapse;overflow-x:auto;display:block;white-space:nowrap}
#content table, #content th, #content td{border:1px solid #ddd;padding:6px}
#content table{display:table;white-space:normal}

/* 圖片響應式 */
#content img{max-width:100%;height:auto;border-radius:4px}

/* 文字內容響應式 */
#content h1{font-size:1.8rem;margin-bottom:0.5rem}
#content h2{font-size:1.5rem;margin-top:1.5rem;margin-bottom:0.5rem}
#content h3{font-size:1.3rem;margin-top:1.2rem;margin-bottom:0.5rem}
#content h4{font-size:1.1rem;margin-top:1rem;margin-bottom:0.5rem}
#content p{margin-bottom:1rem}
#content ul, #content ol{padding-left:1.5rem;margin-bottom:1rem}

footer{padding:12px 18px;text-align:center;color:#666;font-size:.9rem;border-top:1px solid #eee}

/* 平板裝置 (768px 以下) - 隱藏側邊選單，改用浮動 */
@media (max-width: 768px) {
  main{flex-direction:column}
  
  .sidebar{
    position:fixed;
    top:0;
    left:-280px;
    height:100vh;
    z-index:999;
    transition:left 0.3s ease;
    max-height:none;
  }
  
  .sidebar.active{left:0}
  
  .sidebar-overlay.active{display:block}
  
  .menu-toggle{display:flex}
  
  .content-wrapper{width:100%}
  
  #content{padding:15px 20px}
  #content h1{font-size:1.6rem}
  #content h2{font-size:1.4rem}
  #content h3{font-size:1.2rem}
  #content h4{font-size:1.1rem}
  
  /* 表格在平板上可橫向滾動 */
  #content table{
    display:block;
    overflow-x:auto;
    white-space:nowrap;
    -webkit-overflow-scrolling:touch;
  }
}

/* 手機裝置 (600px 以下) */
@media (max-width: 600px) {
  header{padding:10px;flex-direction:column;align-items:flex-start;gap:10px}
  header h1{font-size:1rem}
  .toolbar{justify-content:flex-start;width:100%}
  
  .sidebar{width:260px;left:-260px}
  .sidebar.active{left:0}
  
  #content{padding:12px 15px}
  #content h1{font-size:1.4rem}
  #content h2{font-size:1.2rem}
  #content h3{font-size:1.1rem}
  #content h4{font-size:1rem}
  
  .toc{padding:0 15px 15px}
  .toc-link{padding:6px 10px;font-size:0.85rem}
  
  /* 表格在手機上顯示簡化版本 */
  #content table, #content thead, #content tbody, #content th, #content td, #content tr {
    display:block;
  }
  #content thead tr{position:absolute;top:-9999px;left:-9999px}
  #content tr{border:1px solid #ccc;margin-bottom:10px;padding:10px}
  #content td{border:none;border-bottom:1px solid #eee;position:relative;padding-left:50%}
  #content td:before{content:attr(data-label) ": ";position:absolute;left:6px;width:45%;padding-right:10px;white-space:nowrap;font-weight:bold}
}

/* 超小螢幕 (480px 以下) */
@media (max-width: 480px) {
  header{padding:8px}
  footer{padding:10px}
  
  .sidebar{width:240px;left:-240px}
  .sidebar.active{left:0}
  
  #content{padding:10px 12px}
}